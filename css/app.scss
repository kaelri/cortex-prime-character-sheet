// FONTS

// Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&family=Open+Sans:ital,wght@0,400;0,500;0,700;0,800;1,400;1,500;1,700&family=Alegreya+Sans+SC:wght@400;500;800;900&display=block');

// Cortex Icons
@font-face {
	font-family: 'cortex-icons';
	src: url('../fonts/cortex-icons.woff') format('woff');
}

// Font Awesome Free
$fa-font-path: '../node_modules/@fortawesome/fontawesome-free/webfonts';
@import '../node_modules/@fortawesome/fontawesome-free/scss/fontawesome';
@import '../node_modules/@fortawesome/fontawesome-free/scss/brands';
@import '../node_modules/@fortawesome/fontawesome-free/scss/solid';
@import '../node_modules/@fortawesome/fontawesome-free/scss/regular';

// VARIABLES

:root {
	
	--page-width:    210mm;
	--page-height:   297.1mm;
	--sidebar-width: 6rem;

	--font-primary:   'Open Sans', sans-serif;
	--font-secondary: 'Alegreya Sans SC', sans-serif;
	--font-heading:   'Josefin Sans', sans-serif;

	--color-primary:     hsl(337, 92%, 40%); // Fuschia
	--color-secondary:   hsl(137, 36%, 88%); // Green
	--color-interactive: hsl(204, 71%, 47%); // Blue
	--color-separator:   hsl(  0,  0%, 83%); // Gray
	--color-inactive: 	 hsl(  0,  0%, 40%); // White
	--color-input: 	     hsl(  0,  0%, 15%); // White

	--highlight-radius: .5em;

	--z-main:                      100;
	--z-page:                      200;
	--z-attributes-grid:           300;
	--z-attributes-curve:          400;
	--z-attributes-items:          500;
	// --z-attributes-item:           100;
	--z-editable-highlight:        600;
	--z-editable-content:          700;
	--z-header:                    800;
	--z-editor:                    900;
	--z-editor-scroll-indicator:  1000;
	--z-editor-controls:          1100;

}

// PRINT

%no-print {
	@media print {
		display: none !important;
	}
}

@page {
	size: A4;
	margin: 0;
}

// GLOBAL

body,
html {
	font-size: 16px;
	@media print {
		width: var(--page-width);
		height: var(--page-height);
	}
}

body {
	margin: 0;
	padding: 0;
	font-family: var(--font-primary);
	// background-color: black;
}

* {
	box-sizing: border-box;
	break-inside: avoid-column;	
	break-before: avoid-column;
	break-after: avoid-column;
}

.main {
	position: absolute;
	z-index: var(--z-main);
	left: var(--sidebar-width);
	right: 0;
	top: 0;
	bottom: 0;
	overflow: auto;
	padding: 2rem;
	@media print {
		left: 0;
		padding: 0;
	}
}

// DIE VALUES

.c {
	display: inline;
	font-family: 'cortex-icons';
	font-size: 1.4em;
	font-style: normal;
	position: relative;
	color: var(--color-primary);
}

// PLOT POINTS

.pp {
	display: inline-block;
	width: 1.6em;
	height: 1.6em;
	background: var(--color-secondary);
	border-color: var(--color-secondary);
	border-radius: 50%;
	font-style: normal;
	font-weight: 700;
	text-align: center;
	font-size: 75%;
	line-height: 1.6em;
	text-indent: 0;
}

// INTERFACE

%button {
	border: none;
	outline: none;
	background: var(--button-color);
	border-radius: 2px;
	color: white;
	font-family: var(--font-heading);
	font-weight: bold;
	font-size: smaller;
	text-transform: uppercase;
	line-height: 1;
	white-space: nowrap;
	padding: .75em;
	cursor: pointer;
}

%button-secondary {
	background: transparent;
	border: 1px solid var(--button-color);
	color: var(--button-color);
}

%button-tertiary {
	background: transparent;
	color: inherit;
}

%editable {
	position: relative;
	cursor: pointer;
	&::before {
		@extend %no-print;
		display: block;
		position: absolute;
		z-index: var(--z-editable-highlight);
		content: '';
		top:    calc( -1 * var(--highlight-radius) );
		bottom: calc( -1 * var(--highlight-radius) );
		left:   calc( -1 * var(--highlight-radius) );
		right:  calc( -1 * var(--highlight-radius) );
		border-radius: var(--highlight-radius);
		transition: background-color .2s, border-color .2s;
		opacity: 0;
		pointer-events: none;
		background-color: transparent;
		border: 2px solid transparent;
	}
	&:hover::before {
		opacity: 1;
		border-color: color-mix(in srgb, var(--color-interactive), transparent 50% );
	}
	&.selected::before {
		opacity: 1;
		background-color: color-mix(in srgb, var(--color-interactive), transparent 83% );
		border-color: color-mix(in srgb, var(--color-interactive), transparent 50% );
	}
}

// COMPONENTS

@import 'header';
@import 'footer';
@import 'preview';
@import 'variants';
@import 'editor';
